function BigSence(t,e,n,o,i,a,r,c,s,l){controller.totlaSizeIn=2,this.sps=[],this.headSp,this.footSp,n/=controller.totlaSizeIn,o/=controller.totlaSizeIn,i/=controller.totlaSizeIn,this.onCreated=l;var d=new TextureManager,p=this;this.onclick=function(){},this.init=function(){for(var t=0;e>t&&!(t>r);t++){var s=new Sprite3D(100,o);c===!0?s.width=2*Math.sin((360/e/2+0)/180*Math.PI)*i+13:"0"===c?s.width=2*Math.sin(360/e/2/180*Math.PI)*i+2.2:c===!1&&(s.width=2*Math.sin(360/e/2/180*Math.PI)*i+1.6),s.y=n,s.center_dis=i,s.center_angle=t/e*360+a,s.textureByBase64=d.getTexture({xp:t/r,yp:0,wp:1/r,hp:1}),s.x=Math.sin(s.center_angle/180*Math.PI)*s.center_dis+500,s.z=-Math.cos(s.center_angle/180*Math.PI)*s.center_dis,s.rotatey=-s.center_angle,sence.add3DObject(s),p.sps.push(s),s.addEventListener("click",function(){p.onclick&&p.onclick()})}d.dispose(),p.onCreated&&p.onCreated()},this.show=function(){for(var t=0;t<p.sps.length;t++)p.sps[t].visible(!0)},this.hide=function(){for(var t=0;t<p.sps.length;t++)p.sps[t].visible(!1)},this.handleTextureLoaded=function(){p.init()},d.addEventListener("textureloaded",function(t){app.handleLoadedTexture(),p.handleTextureLoaded()}),d.drawImage(document.getElementById(t+"img"))}function flyingIcon(t,e,n,o,i){e/=controller.totlaSizeIn,n/=controller.totlaSizeIn,o/=controller.totlaSizeIn;var a=this;this.addM=function(){var r=new Sprite3D(n,n);r.width=2*Math.sin((360/t/2+0)/180*Math.PI)*o,r.y=e,r.height=n,r.width=n,r.center_dis=o,r.center_angle=0/t*360+i,r.x=Math.sin(r.center_angle/180*Math.PI)*r.center_dis+500,r.z=-Math.cos(r.center_angle/180*Math.PI)*r.center_dis,r.rotatey=-r.center_angle,r.textureByUrl="//mblcce.image.alimmdn.com/icons-btn.png.webp?t=1488461740010",r.div_icon.style["background-size"]="100% 100%",r.div_icon.style["backface-visibility"]=r.div_icon.style["-webkit-backface-visibility"]=r.div_icon.style["-o-backface-visibility"]=r.div_icon.style["-moz-backface-visibility"]=r.div_icon.style["-ms-backface-visibility"]="hidden",r.addEventListener("click",function(){a.onclick&&a.onclick()}),sence.add3DObject(r),r.update()},a.addM()}function clickIcon(t,e,n,o,i,a,r,c,s,l,d){var p=this;BigSence.call(this,t,e,n,o,i,a,r,c,s,d),this.handleTextureLoaded=function(){p.init()}}function FaceTouch(t){function e(t,e){var n=o(t[0],e[0]);r=n,c.onmove&&c.onmove(n)}function n(t,e){var n=o(t[0],t[1]),i=o(e[0],e[1]),a=i.offsetdistance-n.offsetdistance,r=i.angle-n.angle,s=-a/c.initdis/2,l={};l.angle=-r/Math.PI*180,l.scale=s,l.center={x:(t[0].x+t[1].x)/2,y:(t[0].y+t[1].y)/2},c.onrotate(l)}function o(t,e){var n,o={},i=e.x-t.x,a=e.y-t.y,r=0;return n=0,o.offsetx=i,o.offsety=a,o.offsetdistance=r,o.angle=n,o}this.element=document.getElementById(t)||document;var i,a=!1;this.name="xiaoxin",this.onmove=function(){},this.onrotate=function(){},this.ontouchend=function(){},this.initdis=0,this.initrotation=0;var r,c=this,s=0;this.lastdis=0,this.lastrotation=0;var c=this;this.handleTouchBegin=function(t){a=!0;var e="";for(var n in t)e+=n+"="+t[n]+"\n";if(t.targetTouches){var l=t.targetTouches.length;switch(s++,l){case 1:r=i=[{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}];break;case 2:i=[{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY},{x:t.targetTouches[1].pageX,y:t.targetTouches[1].pageY}],c.initdis=o(i[0],i[1]).offsetdistance,c.initrotation=o(i[0],i[1]).angle/Math.PI*180}c.element.addEventListener(facetouchAd.TOUCH_MOVE,c.handleTouchMove)}else i=r=[{x:t.pageX,y:t.pageY}],c.element.addEventListener(facetouchAd.TOUCH_MOVE,c.handleTouchMove)},this.handleTouchMove=function(t){if(t.preventDefault(),t.stopPropagation(),a)if(t.targetTouches){var o,r=t.targetTouches.length;switch(r){case 1:o=[{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}],e(o,i);break;case 2:o=[{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY},{x:t.targetTouches[1].pageX,y:t.targetTouches[1].pageY}],n(o,i)}}else o=[{x:t.pageX,y:t.pageY}],e(o,i);i=o},this.handleTouchEnd=function(t){a=!1,s=0,c.initdis=c.lastdis,c.initrotation=c.lastrotation,c.ontouchend(r),c.element.removeEventListener(facetouchAd.TOUCH_MOVE,c.handleTouchMove)},this.element.addEventListener(facetouchAd.TOUCH_START,this.handleTouchBegin),this.element.addEventListener(facetouchAd.TOUCH_MOVE,this.handleTouchMove),this.element.addEventListener(facetouchAd.TOUCH_END,this.handleTouchEnd),document.addEventListener(facetouchAd.TOUCH_END,function(){c.element.removeEventListener(facetouchAd.TOUCH_MOVE,c.handleTouchMove)})}function anPercent(t){t>=100&&0==app.isLoaded&&app.launchApp()}function playTmallVideo(t){$(".mblicons").show(),Tida.openInteractVideo({videoUrl:t,width:wvWidth,height:wvHeight,from:"SHOP",userId:"3129324064",interactiveVideoId:"",showCloseBtn:"false",processKeyBackEvent:!0},function(t){})}function closeTmallVideo(){Tida.closeInteractVideo({},function(){}),$(".mblicons").hide()}function followStore(t){Tida.follow({pubAccountId:"743750137"},function(e){t(e)})}function tmallFanUser(t){"1"==t.data.result?tmallUser.isFan=!0:tmallUser.isFan=!1}function madeProduct(t,e,n){var o=$("."+t),i="";i+='<div class="swiper-wrapper">';for(var a=0;a<e.length;a++)i+='<div class="swiper-slide"><img src="'+e[a]+'"></div>';i+="</div>",i+='<div class="savebtns">',i+='<div class="savebtn"></div>',i+='<div class="playbtn"></div>',i+="</div>",i+='<div class="jiantoul jiantou"></div>',i+='<div class="jiantour jiantou"></div>',i+='<div class="closebtn" ></div>',i+="</div>",o.html(i),i=null;var r=new SSwiper("."+t,n);$(".products .closebtn").bind("click",function(){SSWiperManager.hideAll()}),this.setCurrentIndex=function(t){r.setCI(t)}}function PlayVideo(t,e){switch(t){case"ly":tipcon.lypro||tipcon.addLY(),$(".productshow").show(),$(".products").hide(),SSWiperManager.showSwiper(".ly"),(e||0==e)&&tipcon.lypro.setCurrentIndex(e),TRACKING.gaevent("Button_ product");break;case"cwt":tipcon.cwtpro||tipcon.addCWT(),$(".productshow").show(),$(".products").hide(),SSWiperManager.showSwiper(".cwt"),TRACKING.gaevent("Button_cwt");break;case"zdy":tipcon.zdypro||tipcon.addZDY(),$(".productshow").show(),$(".products").hide(),SSWiperManager.showSwiper(".zdy"),TRACKING.gaevent("Button_shanziNYFW")}}function handleTrick(){if(1==controller.eventDetailsState)return void SSWiperManager.update();for(var t=controller.cameraToRotateY;0>t;)t+=360;if(1==controller.isClick&&0==controller.eventDetailsState&&0==controller.navState)orientationObj.toConentSc=1.75;else if(orientationObj.toScale>0){var e=orientationObj.toScale+1;e=Math.max(e,1),orientationObj.toConentSc=e}else orientationObj.toConentSc=1.6;var n=.8*(orientationObj.toConentSc-orientationObj.contentSc);orientationObj.contentSc+=n;var o;o=.8*(controller.cameraToRotateY-camera.rotatey),o=Math.min(20,o),o=Math.max(-20,o);var i=.2*(controller.cameraToRotateX-camera.rotatex);camera.rotatex+=i,camera.rotatey+=o,Math.abs(n)>.001&&$("#content").css("transform","scale3d("+orientationObj.contentSc+","+orientationObj.contentSc+",1)"),sence.render(),SSWiperManager.update(),n=o=i=null}function SSwiper(t,e,n){this.savedpool={},this.dom=$(t),SSWiperManager.addSwiper(this,t),TFC.sws.push(this);var o=$(t).find(".swiper-slide").length,i=this;this.items=[];var a="ID"+10*Math.random();this.dom.attr("id",a),this.toX=0,this.currentX=n||0;var r={itemId:0,action:"add"},c=this.dom.find(".jiantoul"),s=this.dom.find(".jiantour"),l=this.dom.find(".savebtn"),d=this.dom.find(".playbtn");switch($(t).find(".swiper-slide").bind("touchstart",function(){switch(t){case".zdy":playTmallVideo("http://cloud.video.taobao.com/play/u/3129324064/p/1/e/6/t/1/52759130.mp4"),TRACKING.gaevent("Button_NYFWvideo");break;case".cwt":playTmallVideo("http://cloud.video.taobao.com/play/u/3129324064/p/1/e/6/t/1/51756702.mp4"),TRACKING.gaevent("Button_cwtvideo");break;case".ly":0==i.currentIndex&&(playTmallVideo("http://cloud.video.taobao.com/play/u/3129324064/p/1/e/6/t/1/51756850.mp4"),TRACKING.gaevent("Button_LBvideo"))}}),this.setCI=function(t){var e=i.currentIndex,n=e%o,a=t-n;e+=a,i.currentIndex=e,i.toX=750*i.currentIndex},t){case".cwt":d.hide(),l.css("margin-left","180px"),l.addClass("savecwt"),d.addClass("cwt_video");break;case".ly":d.hide(),l.css("margin-left","180px");break;case".zdy":tmallUser.isFan?(l.addClass("savedstore"),i.savedpool[0]=1):l.addClass("saveStore"),l.css("margin-left","180px"),d.hide(),console.log("ssss")}1>=o&&(c.hide(),s.hide()),this.currentIndex=0,c.bind("touchstart",function(){i.playPrev()}),s.bind("touchstart",function(){i.playNext()}),l.bind("touchstart",function(){switch(t){case".cwt":if(1==i.savedpool[0])return;r.itemId="541236751066",Tida.itemFavor(r,function(t){"HY_SUCCESS"!=t.ret&&3!=t.errorType&&"3002"!=t.errorCode||(l.removeClass("savecwt"),l.addClass("saved"),i.savedpool[0]=1)}),TRACKING.gaevent("Button_cwtcollect");break;case".ly":if(n=i.getCurrentIndex(),1==i.savedpool[n])return;0==n?(r.itemId="544867810896",Tida.itemFavor(r,function(t){"HY_SUCCESS"!=t.ret&&3!=t.errorType&&"3002"!=t.errorCode||(l.addClass("saved"),i.savedpool[0]=1)}),TRACKING.gaevent("Button_LBcollect")):1==n&&(r.itemId="544711312521",Tida.itemFavor(r,function(t){"HY_SUCCESS"!=t.ret&&3!=t.errorType&&"3002"!=t.errorCode||(l.addClass("saved"),i.savedpool[1]=1)}),TRACKING.gaevent("Button_Erasercollect"));break;case".zdy":if(1==i.savedpool[0])return;followStore(function(t){1==t.followStatus?(l.addClass("savedstore"),i.savedpool[0]=1):(l.addClass("savedstore"),i.savedpool[0]=1)}),TRACKING.gaevent("Button_collectstore")}i.currentIndex=i.getCurrentIndex()}),d.bind("touchstart",function(){if(i.currentIndex=i.getCurrentIndex(),console.log(i.currentIndex),e[i.currentIndex].more);else switch(t){case".cwt":playTmallVideo("http://cloud.video.taobao.com/play/u/3129324064/p/1/e/6/t/1/51756702.mp4");break;case".ly":playTmallVideo("http://cloud.video.taobao.com/play/u/3129324064/p/1/e/6/t/1/51756850.mp4")}}),this.getCurrentIndex=function(){if(1==o)return 0;for(var t=parseInt(i.toX/750);0>t;)t+=o;return 1==i.savedpool[t%o]?l.addClass("saved"):l.removeClass("saved"),t%o},this.playNext=function(){if(1==o)return void(i.currentIndex=0);var t=parseInt(i.toX/750);t--,i.toX=750*t,i.currentIndex=i.getCurrentIndex()},this.playPrev=function(){if(1==o)return void(i.currentIndex=0);var t=parseInt(i.toX/750);t++,i.toX=750*t,i.currentIndex=i.getCurrentIndex()};for(var p=0;o>p;p++){var u=$(t).find(".swiper-slide").eq(p),m=750;u.xx=p*m,u.css("transform","translate("+u.xx+"px,0px)"),u.css("-ms-transform","translate("+u.xx+"px,0px)"),u.css("-o-transform","translate("+u.xx+"px,0px)"),u.css("-moz-transform","translate("+u.xx+"px,0px)"),u.css("-webkit-transform","translate("+u.xx+"px,0px)"),i.items.push(u),u=null,m=null}this.touchMove=function(t){i.toX-=t.offsetx},this.touchEnd=function(t){if("none"!=i.dom.css("display")){if(1==o&&(i.toX=0),t.offsetx>10)return void i.playNext();if(t.offsetx<-10)return void i.playPrev();var e=i.toX%750,n=750,a=parseInt(i.toX/750),r=i.toX%750;r>200?i.toX=750*(a+1):200>r&&r>0?i.toX=750*a:-200>r?i.toX=750*(a-1):r>-200&&0>r&&(i.toX=750*a),i.currentIndex=i.getCurrentIndex(),e=n=a=r=null}},this.update=function(){function t(t,e){return t.xx>e.xx?1:-1}if("none"!=i.dom.css("display")){var e=.6*(i.toX-i.currentX);if(i.currentX+=e,0!=i.items.length){for(var n=0;n<i.items.length;n++){var o=i.items[n].xx;o+=e,i.items[n].xx=o,o>=-750&&750>=o?(i.items[n].css("transform","translate("+o+"px,0px)"),i.items[n].css("-webkit-transform","translate("+o+"px,0px)"),i.items[n].css("-o-transform","translate("+o+"px,0px)"),i.items[n].css("-moz-transform","translate("+o+"px,0px)"),i.items[n].css("-ms-transform","translate("+o+"px,0px)")):(i.items[n].css("transform","translate(750px,0px)"),i.items[n].css("-webkit-transform","translate(750px,0px)"),i.items[n].css("-o-transform","translate(750px,0px)"),i.items[n].css("-moz-transform","translate(750px,0px)"),i.items[n].css("-ms-transform","translate(750px,0px)")),o=null}i.items.sort(t);var a=i.items.length,r=1500;2==a&&(r=750),i.items[a-1].xx>r&&(i.items[a-1].xx=i.items[0].xx-750),i.items[0].xx<-750&&(i.items[0].xx=i.items[a-1].xx+750),a=null,r=null}}}}function ThreeD(){$(".contenparent").show(),sence=new SenceManager,camera=new Camera,camera.x=500,camera.y=-100,camera.z=0;sence.addCamrea(camera);var t=14;new BigSence("background",t,0,3200,2e3,0,t,!0,0,makePro1);$(".info .closebtn").bind("click",function(){$(".info").hide()})}function makePerson1(){setTimeout(function(){var t=new BigSence("zdy",36,380,2400,1500,265,4,!1,0,makePerson2);t.onclick=function(){PlayVideo("zdy"),controller.eventDetailsState=!0}},100)}function makePerson2(){setTimeout(function(){var t=new BigSence("cwt",35,700,2400,1600,153,4,!1,0,makePerson3);t.onclick=function(){PlayVideo("cwt"),controller.eventDetailsState=!0}},100)}function makePerson3(){setTimeout(function(){var t=new BigSence("ly",35,150,1500,1600,20,3,!1,0,makeStreetLight);t.onclick=function(){PlayVideo("ly"),controller.eventDetailsState=!0}},100)}function makeStreetLight(){setTimeout(function(){new BigSence("streetlight",14,0,3e3,1550,50,1,!1,0,makeDone)},100)}function makePro1(){setTimeout(function(){var t=new BigSence("pro1",15,450,800,1500,11,1,!1,0,makePro2);t.onclick=function(){PlayVideo("ly",0),controller.eventDetailsState=!0}},100)}function makePro2(){setTimeout(function(){var t=new BigSence("pro2",25,360,800,1500,1,1,!1,0,makeTip);t.onclick=function(){PlayVideo("ly",1),controller.eventDetailsState=!0}},100)}function makeTip(){tipcon.showzdytip(),tipcon.showcwttip(),tipcon.showlytip(),makePerson1()}function makeDone(){MainTimeLine.getInstance().addEventListener("trick",handleTrick),$(".thumb").remove()}!function(t,e,n,o,i,a,r){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,a=e.createElement(n),r=e.getElementsByTagName(n)[0],a.async=1,a.src=o,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-96359601-1","auto"),ga("send","pageview");var TRACKING={gaevent:function(t){ga("send","event","MBL_TMALL",t,"click")}},ui={init:function(){if(window.parent){var t=$(parent).width(),e=t/750;$("body").css("-webkit-transform","scale("+e+","+e+")"),$("body").css("-o-transform","scale("+e+","+e+")"),$("body").css("-moz-transform","scale("+e+","+e+")"),$("body").css("-ms-transform","scale("+e+","+e+")"),$("body").css("transform","scale("+e+","+e+")"),$("body").css("transform-origin","0px 0px"),$("body").css("-o-transform-origin","0px 0px"),$("body").css("-ms-transform-origin","0px 0px"),$("body").css("-webkit-transform-origin","0px 0px"),$("body").css("-moz-transform-origin","0px 0px"),$(".alert").css("height",$(window).height()/e+"px"),$("body").css("height",$(window).height()/e+"px"),$(".contenparent").css("height",$(window).height()/e+"px")}},getIsFollow:function(){$.ajax({url:"interface.php",dataType:"jsonp",jsonp:"tmallFanUser",type:"get"})}},sence=null,camera=null,dfAlpha=dfBeta=null,trigger=.1,minRtx=-17,maxRtx=12,controller={clickvideoid:0,getOpenId:0,IsSubscribe:0,eventDetailsState:!1,navState:!1,cameraToRotateX:0,cameraToRotateY:0,cameraToZ:0,phone:"",device:"",config:function(){$(".alertbtn").bind("click",function(){controller.eventDetailsState=!1,$(".alert").remove(),TRACKING.gaevent("Button_enter")}),$(".pro_closebtn").bind("touchstart",function(){controller.eventDetailsState=!1,$(".proShow").hide()},!1),$(".mblicons .makeithappen").bind("click",function(){closeTmallVideo()}),$(".mblicons .closebtn").bind("click",function(){closeTmallVideo()})}},isMobile={Android:function(){return!!navigator.userAgent.match(/Android/i)},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!!navigator.userAgent.match(/iPhone|ipad|iPod/i)},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)},notiOS:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.Windows()},noPc:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.Windows()||isMobile.iOS()}};isMobile.notiOS()?controller.device="Android":isMobile.iOS()&&(controller.device="apple"),$(document).ready(function(){controller.config(),ui.init(),ThreeD()});var facetouchAd={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",devicetype:"mobile",check:function(){var t=navigator.userAgent.toLowerCase();"ipad"==t.match(/ipad/i)||"iphone"==t.match(/iphone/i)||"android"==t.match(/android/i)||("windows mobile"==t.match(/windows mobile/i)?(this.TOUCH_START="mousedown",this.TOUCH_MOVE="mousemove",this.TOUCH_END="mouseup"):(this.TOUCH_START="mousedown",this.TOUCH_MOVE="mousemove",this.TOUCH_END="mouseup"))}};facetouchAd.check();var app={isLoaded:!1,textureloadedindex:0,sourceloadedindex:0,imgArr:[],init:function(){this.loading()},loading:function(){},handleLoadedTexture:function(){app.textureloadedindex++;var t=app.sourceloadedindex;hasLoadPercent=Math.round((t+app.textureloadedindex)/(app.imgArr.length+TextureManager.loadnumber)*100),anPercent(hasLoadPercent)},launchApp:function(){Tida.hideLoading&&Tida.hideLoading(),$(".alert").show(),$("#content").css("transform","scale3d(0,0,1)"),app.isLoaded=!0,orientationObj.init()}},hasLoadPercent=0,CompletionPercent=0,__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},MF_EVENT;!function(t){var e=function(){function t(){this.eventLip={}}return t.prototype.onEvent=function(t,e){this.addEventListener(t,e)},t.prototype.moveEvent=function(t,e){this.removeEventListener(t,e)},t.prototype.addEventListener=function(t,e){this.eventLip[t]||(this.eventLip[t]=new Array),this.contains(t,e)||this.eventLip[t].push(e)},t.prototype.dispatchEvent=function(t){var e=this.eventLip[t.type];if(e)for(var n=0;n<e.length;n++){var o=e[n];t.target=this,o(t)}},t.prototype.contains=function(t,e){for(var n=0;n<this.eventLip[t].length;n++)if(this.eventLip[t][n]==e)return!0;return!1},t.prototype.removeEventListener=function(t,e){var n=this.eventLip[t];if(n){for(var o=0;o<n.length;o++)n[o]==e&&n.splice(o);n=null}},t}();t.EventDispatcher=e}(MF_EVENT||(MF_EVENT={}));var MF_EVENT;!function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.type=t,this.data=e}return t}();t.Event=e}(MF_EVENT||(MF_EVENT={}));var target3d=function(t){function e(){t.call(this),this._x=0,this._y=0,this._z=0,this._rotatex=0,this._rotatey=0,this._rotatez=0,this.transform_result=""}return __extends(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotatex",{get:function(){return this._rotatex},set:function(t){this._rotatex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotatey",{get:function(){return this._rotatey},set:function(t){this._rotatey=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotatez",{get:function(){return this._rotatez},set:function(t){this._rotatez=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return"translate3d("+this.x+"px,"+this.y+"px,"+this.z+"px) rotateX("+this._rotatex+"deg) rotateY("+this._rotatey+"deg) rotateZ("+this._rotatez+"deg)"},enumerable:!0,configurable:!0}),e}(MF_EVENT.EventDispatcher),SenceOffsetOption=function(){function t(){}return t}(),Camera=function(t){function e(){t.call(this),this.viewportW=1e3,this.viewportH=1e3,this.offset_rotatey=0,this.option=new SenceOffsetOption}return __extends(e,t),e.prototype.caca=function(t){var e={};return e.x=t.x,e.y=t.y,e.z=t.z,e.rotatey=t.rotatey,this.changeToLocalPo(e),this.rotateAtY(this.rotatey,e),this.rotateAtX(this.rotatex,e),this.option.x=e.x+this.viewportW/2,this.option.y=e.y+this.viewportH/2,this.option.z=e.z,this.option.offsetrotatey=this.rotatey,this.option.offsetrotatex=this.rotatex,e=null,this.option},e.prototype.caca2=function(t){},e.prototype.changeToLocalPo=function(t){t.x=t.x-this.x,t.y=t.y-this.y,t.z=t.z-this.z},e.prototype.changeToGlobalPo=function(t){t.x=t.x+this.x,t.y=t.y+this.y,t.z=t.z+this.z},e.prototype.rotateAtY=function(t,e){var n=Math.cos(t/180*Math.PI),o=Math.sin(t/180*Math.PI),i=e.x*n-e.z*o,a=e.z*n+e.x*o;e.x=i,e.z=a,n=o=i=a=null},e.prototype.rotateAtX=function(t,e){var n=Math.cos(t/180*Math.PI),o=Math.sin(t/180*Math.PI),i=e.y*n-e.z*o,a=e.z*n+e.y*o;e.y=i,e.z=a,n=o=i=a=null},Object.defineProperty(e.prototype,"rotatey",{get:function(){return this._rotatey},set:function(t){this.offset_rotatey=t-this.rotatey,this._rotatey=t},enumerable:!0,configurable:!0}),e}(target3d),Sprite3D=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this),this.center_dis=400,this.divcontent=document.createElement("div"),this.divcontent.setAttribute("class","sprite3d"),this.width=e,this.height=n}return __extends(e,t),Object.defineProperty(e.prototype,"content",{get:function(){return this.divcontent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"camera",{set:function(t){this._myCamera=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureByUrl",{set:function(t){this.makeMM(),this.div_icon.style.backgroundImage="url("+t+")"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureByBase64",{set:function(t){this.makeMM(),this.div_icon.style.backgroundImage="url("+t+")",this.div_icon.style.backgroundSize="100% 100%"},enumerable:!0,configurable:!0}),e.prototype.makeMM=function(){this.div_icon||(this.div_icon=document.createElement("div"),this.div_icon.style.position="absolute",this.div_icon.style["-webkit-transform-style"]="preserve-3d",this.div_icon.style["transform-style"]="preserve-3d",this.div_icon.style["-o-transform-style"]="preserve-3d",this.div_icon.style["-ms-transform-style"]="preserve-3d",this.div_icon.style["-moz-transform-style"]="preserve-3d",this.divcontent.appendChild(this.div_icon)),this.div_icon.style.width=this.width+"px",this.div_icon.style.height=this.height+"px",this.div_icon.style.top=-this.height/2+"px",this.div_icon.style.left=-this.width/2+"px"},Object.defineProperty(e.prototype,"backgroudcolor",{set:function(t){this.makeMM(),this.div_icon.style.backgroundColor="#"+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._w},set:function(t){this._w=t,this.makeMM()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._h},set:function(t){this._h=t,this.makeMM()},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._myCamera&&(this.updateoption=this._myCamera.caca(this)),this.divcontent.style.transform=this.transform,this.divcontent.style["-webkit-transform"]=this.transform,this.divcontent.style["-o-transform"]=this.transform,this.divcontent.style["-moz-transform"]=this.transform,this.divcontent.style["-ms-transform"]=this.transform,this.divcontent.style["-webkit-transform-style"]="preserve-3d",this.divcontent.style["transform-style"]="preserve-3d",this.divcontent.style["-o-transform-style"]="preserve-3d",this.divcontent.style["-ms-transform-style"]="preserve-3d",this.divcontent.style["-moz-transform-style"]="preserve-3d",this.SenceZ>1e3},e.prototype.HandleClick=function(){this.dispatchEvent(new MF_EVENT.Event("click"))},e.prototype.needrender=function(){return!0},e.prototype.addMeAt=function(t){var e=this;t.appendChild(this.divcontent),this.divcontent.addEventListener("click",function(t){e.HandleClick()},!0)},Object.defineProperty(e.prototype,"SenceX",{get:function(){return this.updateoption?this.updateoption.x:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceY",{get:function(){return this.updateoption?this.updateoption.y:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceZ",{get:function(){return this.updateoption?this.updateoption.z:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceRotateX",{get:function(){return this.updateoption?this.rotatex+this.updateoption.offsetrotatex:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceRotateY",{get:function(){return this.updateoption?this.rotatey-this.updateoption.offsetrotatey:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceRotateZ",{get:function(){return this.rotatez},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SenceScale",{get:function(){return this._myCamera.z-this.z},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this.needrender()?"translate3d("+this.SenceX+"px,"+this.SenceY+"px,"+this.SenceZ+"px) rotateX("+this.SenceRotateX+"deg) rotateY("+this.SenceRotateY+"deg) rotateZ("+this.SenceRotateZ+"deg)":""},enumerable:!0,configurable:!0}),e}(target3d),Sprite3DContainer=function(t){function e(){t.call(this),this.childrens=new Array,this.divcontent.style.perspective="1000px",this.divcontent.style.background="",this.z=-600}return __extends(e,t),e.prototype.addChild=function(t){this.childrens.push(t),t.addMeAt(this.content)},e.prototype.update=function(){t.prototype.update.call(this);for(var e=0;e<this.childrens.length;e++)this.childrens[e].update();e=null},e}(Sprite3D),mm={now:0,then:0,count:function(){MainTimeLine.getInstance().count()}},MainTimeLine=function(t){function e(){t.call(this),this.starting()}return __extends(e,t),e.prototype.now=0,e.prototype.then=9,e.prototype.starting=function(){mm.then=mm.now=Date.now(),this.count()},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.now=0,e.prototype.then=0,e.prototype.count=function(){mm.now=Date.now(),mm.now-mm.then>=1e3/60&&(e.getInstance().dispatchEvent(new MF_EVENT.Event("trick")),mm.then=Date.now()),requestAnimationFrame(mm.count)},e.timestep=50,e.timestamp=0,e}(MF_EVENT.EventDispatcher),tempCameraObj={rotatex:0,rotatey:0,rotatez:0},SenceManager=function(){function t(t){void 0===t&&(t=1500),this.sprites=new Array,this.stage=document.createElement("div"),document.getElementById("content").appendChild(this.stage),document.getElementById("content").style.perspective=document.getElementById("content").style["-webkit-perspective"]=document.getElementById("content").style["-o-perspective"]=document.getElementById("content").style["-ms-perspective"]=document.getElementById("content").style["-os-perspective"]=t,document.getElementById("content").style.background="#000",this.stage.setAttribute("class","spritestage")}return t.prototype.add3DObject=function(t){this.sprites.push(t),this.camera&&(t.camera=this.camera),t.addMeAt(this.stage)},t.prototype.render=function(){if(tempCameraObj.rotatex!=this.camera.rotatex||tempCameraObj.rotatey!=this.camera.rotatey||tempCameraObj.rotatez!=this.camera.rotatez){var t=parseInt(1e3*-this.camera.rotatex)/1e3,e=parseInt(100*-this.camera.rotatey)/100,n=parseInt(100*-this.camera.rotatez)/100;t=this.uodateRotate(t),e=this.uodateRotate(e),n=this.uodateRotate(n);var o="rotateX("+t+"deg) rotateY("+e+"deg) rotateZ("+n+"deg)";this.stage.style.transform=o,this.stage.style["-webkit-transform"]=o,this.stage.style["-o-transform"]=o,this.stage.style["-moz-transform"]=o,this.stage.style["-ms-transform"]=o,tempCameraObj.rotatex=this.camera.rotatex,tempCameraObj.rotatey=this.camera.rotatey,tempCameraObj.rotatez=this.camera.rotatez,t=e=n=o=null}},t.prototype.uodateRotate=function(t){for(;t>360;)t-=360;for(;0>t;)t+=360;return t},t.prototype.addCamrea=function(t){this.camera=t},t}(),TextureManager=function(t){function e(){t.call(this),this.can=document.createElement("canvas")}return __extends(e,t),e.prototype.loadTextrure=function(t){var n=this;this.imgoader=document.createElement("img"),this.imgoader.crossOrigin="Anonymous",e.loadnumber++,this.imgoader.src=t,this.imgoader.onload=function(t){n.handleImgLoaded(t)}},e.prototype.drawImage=function(t){var n=this;this.imgoader=t,this.imgoader.crossOrigin="Anonymous",e.loadnumber++,t.complete?n.dispatchEvent(new MF_EVENT.Event("textureloaded")):this.imgoader.onload=function(t){n.handleImgLoaded(t)}},e.prototype.handleImgLoaded=function(t){this.dispatchEvent(new MF_EVENT.Event("textureloaded"))},e.prototype.dispose=function(){this.can=null,this.context=null,this.imgoader.onload=null,this.imgoader=null},e.prototype.getTexture=function(t,e){void 0===e&&(e=!1);var n=this.can,o=this.imgoader.width*t.wp,i=this.imgoader.height*t.hp;if(n.width=o,n.height=i,this.context||(this.context=this.can.getContext("2d"),this.context=this.can.getContext("2d")),this.context.drawImage(this.imgoader,this.imgoader.width*t.xp,this.imgoader.height*t.yp,o,i,0,0,o,i),isMobile.notiOS())var a=n.toDataURL("image/png");else var a=n.toDataURL("image/webp",.6);return e&&console.log(a),n=o=i=null,a},e.loadnumber=0,e}(MF_EVENT.EventDispatcher),Point3D=function(){function t(){this._x=0,this._y=0,this._z=0}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t},enumerable:!0,configurable:!0}),t}();Tida.ready({},function(){Tida.mixNick({},function(t){ui.getIsFollow()})});var UC=navigator.userAgent.match(/UCBrowser/),wrapWidth=window.screen.width,wrapHeight=756*wrapWidth/540,wvWidth,wvHeight;UC?(wvWidth=wrapWidth.toString(),wvHeight=wrapHeight.toString()):(wvWidth=(wrapWidth*window.devicePixelRatio).toString(),wvHeight=(wrapHeight*window.devicePixelRatio).toString());var tmallUser={isFan:!1},TFC={tf:null,sws:[],init:function(){TFC.tf=new FaceTouch,TFC.tf.onrotate=function(t){orientationObj.toScale+=t.scale},TFC.tf.ontouchend=function(t){orientationObj.toScale=0,controller.isClick=!1;for(var e=0;e<TFC.sws.length;e++)TFC.sws[e].touchEnd(t)},TFC.tf.onmove=function(t){orientationObj.touchMove(t),SSWiperManager.handleMove(t)}}},orientationObj={trigger:.8,minRtx:-5,maxRtx:0,dfAlpha:null,dfBeta:null,deGmma:null,tf:null,isTouches:null,touchScaleOffset:0,toScale:0,contentSc:1,toConentSc:1.7,init:function(){window.DeviceOrientationEvent,TFC.init()},touchMove:function(t){1!=controller.eventDetailsState&&(controller.isClick=!0,0==controller.navState&&0==controller.eventDetailsState&&(controller.cameraToRotateY-=t.offsetx/10,controller.cameraToRotateX+=t.offsety/10,controller.cameraToRotateX<orientationObj.minRtx&&(controller.cameraToRotateX=orientationObj.minRtx),controller.cameraToRotateX>orientationObj.maxRtx&&(controller.cameraToRotateX=orientationObj.maxRtx)))},orientationHandler:function(t){if(1!=controller.eventDetailsState&&1!=controller.navState&&1!=controller.isClick){"object"==typeof orientationObj.dfAlpha&&(orientationObj.dfAlpha=t.alpha,orientationObj.dfBeta=t.beta,orientationObj.deGmma=t.gamma),t.alpha<90&&orientationObj.dfAlpha>270?orientationObj.dfAlpha=360-orientationObj.dfAlpha:t.alpha>270&&orientationObj.dfAlpha<90&&(orientationObj.dfAlpha=360+orientationObj.dfAlpha),t.beta>90&&orientationObj.dfBeta<-90?orientationObj.dfBeta=360+orientationObj.dfBeta:t.beta<-90&&orientationObj.dfBeta>90&&(orientationObj.dfBeta=-360+orientationObj.dfBeta);var e=t.alpha-orientationObj.dfAlpha,n=t.beta-orientationObj.dfBeta,o=t.gamma-orientationObj.deGmma;if(orientationObj.dfAlpha=t.alpha,Math.abs(o)<2&&(controller.cameraToRotateY+=o/2),Math.abs(e)<3&&(controller.cameraToRotateY+=e/2),orientationObj.dfAlpha=t.alpha,orientationObj.deGmma=t.gamma,Math.abs(n)>=orientationObj.trigger){orientationObj.dfBeta=t.beta;var i=controller.cameraToRotateX-n/2;i<orientationObj.minRtx?controller.cameraToRotateX=orientationObj.minRtx:i>orientationObj.maxRtx?controller.cameraToRotateX=orientationObj.maxRtx:controller.cameraToRotateX=i}e=n=o=null;
}}},collectionlab={cwt:0,ly:0,zdy:0,lab:{},charge:function(t){collectionlab.coll(t),collectionlab.cwt>=2&&tipcon.visiblecwt(),collectionlab.ly>=4&&tipcon.visibleLy(),collectionlab.zdy>=2&&tipcon.visiblezdy()},coll:function(t){}},tipcon={lytip:null,cwttip:null,zdytip:null,zdypro:null,cwtpro:null,lypro:null,showlytip:function(){var t=new flyingIcon(50,400,300,1400,-10);this.lytip=new clickIcon("lyicon",30,400,180,1420,-3,3,!1,4,!1),this.lytip.onclick=t.onclick=function(){PlayVideo("ly"),controller.eventDetailsState=!0}},visibleLy:function(){this.lytip.show()},visiblecwt:function(){this.cwttip.show()},visiblezdy:function(){this.zdytip.show()},showcwttip:function(){this.cwttip=new clickIcon("cwticon",30,580,180,1420,163,2,!1,12,!1);var t=new flyingIcon(50,580,300,1400,156);this.cwttip.onclick=t.onclick=function(){PlayVideo("cwt"),controller.eventDetailsState=!0}},showzdytip:function(){this.zdytip=new clickIcon("zdyicons",25,280,180,1300,275,2,!1,43,!1);var t=new flyingIcon(45,280,300,1250,266);this.zdytip.onclick=t.onclick=function(){PlayVideo("zdy"),controller.eventDetailsState=!0}},addZDY:function(){tipcon.zdypro=new madeProduct("zdy",[wt.product14],[{pid:1,video:""}])},addCWT:function(){tipcon.cwtpro=new madeProduct("cwt",[wt.product3],[{pid:1,video:""}])},addLY:function(){tipcon.lypro=new madeProduct("ly",[wt.product2,wt.product5],[{pid:1,video:""},{pid:2,more:"123"}])}},SSWiperManager={arr:{},currentone:null,addSwiper:function(t,e){SSWiperManager.arr[e]=t},update:function(){0!=controller.eventDetailsState&&SSWiperManager.currentone&&SSWiperManager.currentone.update()},hideAll:function(){SSWiperManager.currentone=null,$(".productshow").hide(),controller.eventDetailsState=!1},showSwiper:function(t){SSWiperManager.arr[t].dom.show(),SSWiperManager.currentone=SSWiperManager.arr[t]},hideSwiper:function(t){SSWiperManager.currentone.dom.hide(),SSWiperManager.currentone=null},handleMove:function(t){SSWiperManager.currentone&&SSWiperManager.currentone.touchMove(t)}},wt={product12:"//mblcce.image.alimmdn.com/product12.png.webp?t=14884619377583",product9:"//mblcce.image.alimmdn.com/product9.png.webp?t=14891287254183",product13:"//mblcce.image.alimmdn.com/product13.png.webp?t=14884619376984",product10:"//mblcce.image.alimmdn.com/product10.png?t=14891287254544",product7:"//mblcce.image.alimmdn.com/product7.png.webp?t=14891287257384",product11:"//mblcce.image.alimmdn.com/product11.png.webp?t=14891287258152",product3:"//mblcce.image.alimmdn.com/product3.png.webp?t=1489733535314",product8:"//mblcce.image.alimmdn.com/product8.png.webp?t=14884619376444",product2:"//mblcce.image.alimmdn.com/product2.png.webp?t=1490002209529",product5:"//mblcce.image.alimmdn.com/product5.png.webp?t=1489774262563",product4:"//mblcce.image.alimmdn.com/product4.png.webp?t=14884619371511",product14:"//mblcce.image.alimmdn.com/product14.png.webp?t=14897742638045454",savebtns:"//mblcce.image.alimmdn.com/savebtns.png.webp?t=149000836d989",zdy:"//mblcce.image.alimmdn.com/zdy.png.webp?t=14884619222683e",zdyicons:"//mblcce.image.alimmdn.com/zdyicon.png.webp?t=14884619222623",signel:"//mblcce.image.alimmdn.com/signel.png.webp?t=14884619222513",savebtn:"//mblcce.image.alimmdn.com/savebtn.png.webp?t=1488461922243g",productsvideocont:"//mblcce.image.alimmdn.com/productsvideocont.png.webp?t=1488461922241f",MBLICON:"//mblcce.image.alimmdn.com/MBLICON.jpg.webp?t=14884619222311",saveandvideo:"//mblcce.image.alimmdn.com/saveandvideo.png.webp?t=14884619222262",ly:"//mblcce.image.alimmdn.com/ly.png.webp?t=1490124938994",lyicon:"//mblcce.image.alimmdn.com/lyicon.png.webp?t=1488461922219d4",cwt:"//mblcce.image.alimmdn.com/cwt.png.webp?t=14884619030495",cwticon:"//mblcce.image.alimmdn.com/cwticon.png.webp?t=14884619028579d",closebtn_black:"//mblcce.image.alimmdn.com/closebtn_black.png.webp?t=1488461902857e",closebtn:"//mblcce.image.alimmdn.com/closebtn.png.webp?t=14884619028561",pro2:"//mblcce.image.alimmdn.com/pro2.png.webpdd?t=1488461830828d",pro1:"//mblcce.image.alimmdn.com/pro1.png.webp?t=1488461830805c",info:"//mblcce.image.alimmdn.com/info.jpg.webp?t=1488461830802s",loadingbf:"//mblcce.image.alimmdn.com/loadingbf.jpg.webp?t=1488461830799d",background:"//mblcce.image.alimmdn.com/background.jpg.webp.webp?t=14900892610461",icon_btn:"//mblcce.image.alimmdn.com/icons-btn.png.webp?t=14884617400101",logo:"//mblcce.image.alimmdn.com/logo.png.webp?t=14884617398402",productshows_title:"//mblcce.image.alimmdn.com/productshows_title.png.webp?t=14884617398244",musicPlay:"//mblcce.image.alimmdn.com/musicPlay.png.webp?t=14884617398185",musicPause:"//mblcce.image.alimmdn.com/musicPause.png.webp?t=14884617398056",knowbtn:"//mblcce.image.alimmdn.com/knowbtn.png.webp?t=14884617397898",car:"//mblcce.image.alimmdn.com/car.png.webp?t=14884617397669",fashionWeek:"//mblcce.image.alimmdn.com/fashionWeek.jpg.webp?t=14884617397593",alert:"//mblcce.image.alimmdn.com/alert.png.webp?t=1489407786385",blackbg:"//mblcce.image.alimmdn.com/blackbg.png.webp?t=14884617397491",streetlight:"//mblcce.image.alimmdn.com/streetlight.png.webp?t=1489128964285"};